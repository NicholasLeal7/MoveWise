<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bem-vindo ao Move Wise</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/media/favicon.jpg">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #f8f9fa, #e9ecef);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      margin: 0;
      padding: 0;
    }

    .main-content {
      flex: 1 0 auto;
      width: 100%;
    }

    .world-img {
      max-width: 100%;
      border-radius: 1rem;
      animation: wave 12s ease-in-out infinite;
      box-shadow: 0 0 30px rgba(0, 123, 255, 0.1);
    }

    @keyframes wave {
      0%,
      100% {
        transform: rotate(-1deg) scale(1.02);
      }

      50% {
        transform: rotate(1deg) scale(1.04);
      }
    }

    .btn-discover {
      font-size: 1.25rem;
      padding: 1rem 2rem;
      border-radius: 50px;
    }

    footer {
      flex-shrink: 0;
      width: 100%;
      background-color: #f8f9fa;
      padding: 1rem 0;
      text-align: center;
      font-size: 0.9rem;
      color: #6c757d;
    }

    /* Estilos da tela de carregamento */
    .loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .loading-content {
      text-align: center;
    }

    .loading-icons {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }

    .loading-icon {
      font-size: 2rem;
      animation: bounce 1.5s infinite;
    }

    .loading-icon:nth-child(2) {
      animation-delay: 0.2s;
    }

    .loading-icon:nth-child(3) {
      animation-delay: 0.4s;
    }

    .loading-text {
      font-size: 1.5rem;
      color: #0d6efd;
      margin-top: 20px;
      font-weight: 500;
    }

    .loading-subtext {
      color: #6c757d;
      margin-top: 10px;
      font-size: 1rem;
    }

    @keyframes bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-20px);
      }
    }

    .loading-progress-container {
      width: 300px;
      height: 4px;
      background: #e9ecef;
      border-radius: 4px;
      margin: 20px auto 0;
      overflow: hidden;
    }

    .loading-progress-bar {
      width: 0%;
      height: 100%;
      background: #0d6efd;
      border-radius: 4px;
      transition: width 0.5s ease;
      animation: progress 2s infinite;
    }

    @keyframes progress {
      0% {
        width: 0%;
      }
      100% {
        width: 100%;
      }
    }

    .hidden-iframe {
      display: none;
    }

    .container {
      width: 100%;
      padding-bottom: 2rem;
    }

  </style>
</head>

<body>  

  <header class="bg-white border-bottom shadow-sm">
      <div class="container d-flex justify-content-between align-items-center py-2">

          <!-- Logo -->
          <a href="/" class="d-flex align-items-center text-decoration-none">
          <img src="media/logo.jpg" alt="Logo Move Wise" height="40"
              style="border-radius: 10px; border: 1.5px solid #ccc; box-shadow: 0.1px;">
          <span class="ms-2 fw-bold text-dark"></span>
          </a>

          <div class="d-flex gap-2">
            <!-- √çcone de Perfil -->
            <a href="/" title="Meu Perfil" class="text-secondary fs-1">
            <i class="bi bi-person-circle"></i>
            </a>

          <!-- √çcone de logout -->
            <a href="/logout" title="Sair" class="text-secondary fs-1" style="display: flex; align-items: center; justify-content: center;">
            <i class="bi bi-box-arrow-right" style="font-size: 30px;"></i>
            </a>
          </div>

      </div>
  </header> 

  <div class="main-content">
    <div class="container py-5 pb-0">
      <div class="row align-items-center">
        <div class="col-md-7 mb-5">
          <h1 class="display-5 fw-bold mb-3">üåç Bem-vindo(a) ao Move Wise</h1>
          <p class="lead text-muted mb-4">
            Descubra os melhores pa√≠ses para viver, trabalhar e prosperar. Aqui voc√™ encontrar√° oportunidades
            personalizadas com base no seu perfil profissional, financeiro e cultural.
          </p>
          <img src="media/mapamundi-con-nombres-scaled.jpg" alt="Mapa Mundi" class="world-img">
        </div>

        <div class="col-md-5">
          <div class="card shadow-lg border-0 mb-4">
            <div class="card-body">
              <h4 class="fw-bold mb-4 text-primary"><i class="bi bi-person-circle me-2"></i>Seu Perfil</h4>
              <p class="mb-2"><i class="bi bi-person-fill me-2 text-secondary"></i><strong>Nome:</strong> {{name}}
              </p>
              <p class="mb-2"><i class="bi bi-briefcase-fill me-2 text-secondary"></i><strong>Profiss√£o:</strong>
                {{profession}}</p>
              <p class="mb-2"><i class="bi bi-cash-stack me-2 text-secondary"></i><strong>Renda:</strong> <span data-value="salary">R$ {{salary}}</span></p>
              <p class="mb-2"><i class="bi bi-house-door-fill me-2 text-secondary"></i><strong>Custo de Vida:</strong> <span data-value="cost">R$ {{costOfLiving}}</span></p>
              <p class="mb-2"><i class="bi bi-globe me-2 text-secondary"></i><strong>Continentes de Interesse:</strong>
                {{favoriteContinent}}</p>
              <p class="mb-2"><i class="bi bi-translate me-2 text-secondary"></i><strong>Idiomas:</strong> {{languages}}</p>
              <p class="mb-2"><i class="bi bi-flag-fill me-2 text-secondary"></i><strong>Pa√≠s de Origem:</strong> {{originCountry}}
              <p class="mb-0"><i class="bi bi-graph-up-arrow me-2 text-secondary"></i><strong>Expectativa Salarial:</strong> <span data-value="expectedSalary" data-raw-value="{{expectedSalary}}">R$ {{expectedSalary}}</span></p>
              </p>
            </div>
          </div>

          <div class="d-flex flex-column gap-3 text-center">
            <a href="consulta/{{username}}" class="btn btn-primary btn-discover shadow">
              üåê Explorar Paises!
            </a>
            <a href="perfil" class="btn btn-outline-secondary">
              <i class="bi bi-pencil-square me-1"></i> Editar meu perfil
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tela de Carregamento -->
  <div class="loading-overlay">
    <div class="loading-content">
      <div class="loading-icons">
        <i class="bi bi-airplane-fill loading-icon text-primary"></i>
        <i class="bi bi-globe-americas loading-icon text-success"></i>
        <i class="bi bi-briefcase-fill loading-icon text-danger"></i>
      </div>
      <div class="loading-text">Explorando pa√≠ses...</div>
      <div class="loading-subtext">Analisando as melhores oportunidades para voc√™</div>
      <div class="loading-progress-container">
        <div class="loading-progress-bar"></div>
      </div>
    </div>
  </div>

  <!-- iframe oculto para pr√©-carregar a p√°gina -->
  <iframe class="hidden-iframe" id="preloadFrame"></iframe>

  <footer>
    <p>
      Ao continuar, voc√™ concorda com os <a href="/html/termodeuso.html" target="_blank">Termos de Uso</a> do Move Wise.
    </p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Formata√ß√£o dos valores monet√°rios
      const salaryElement = document.querySelector('[data-value="salary"]');
      const costElement = document.querySelector('[data-value="cost"]');
      const expectedSalaryElement = document.querySelector('[data-value="expectedSalary"]');

      if (salaryElement) {
        const salary = parseFloat(salaryElement.textContent.replace('R$', '').trim());
        salaryElement.textContent = `R$ ${salary.toLocaleString('pt-BR', { 
          style: 'decimal',
          minimumFractionDigits: 2, 
          maximumFractionDigits: 2 
        })}`;
      }

      if (costElement) {
        const cost = parseFloat(costElement.textContent.replace('R$', '').trim());
        costElement.textContent = `R$ ${cost.toLocaleString('pt-BR', { 
          style: 'decimal',
          minimumFractionDigits: 2, 
          maximumFractionDigits: 2 
        })}`;
      }

      // Formata√ß√£o da expectativa salarial
      if (expectedSalaryElement) {
        const expectedSalary = parseFloat(expectedSalaryElement.textContent.replace('R$', '').trim());
        expectedSalaryElement.textContent = `R$ ${expectedSalary.toLocaleString('pt-BR', { 
          style: 'decimal',
          minimumFractionDigits: 2, 
          maximumFractionDigits: 2 
        })}`;
      }

      // Controle da tela de carregamento
      const loadingTexts = [
        'Analisando mercado de trabalho...',
        'Calculando custo de vida...',
        'Verificando qualidade de vida...',
        'Comparando oportunidades...',
        'Finalizando recomenda√ß√µes...'
      ];

      const loadingSubtexts = [
        'Buscando as melhores vagas na sua √°rea',
        'Avaliando despesas e benef√≠cios',
        'Considerando fatores como seguran√ßa e sa√∫de',
        'Encontrando os pa√≠ses mais compat√≠veis',
        'Preparando sua experi√™ncia personalizada'
      ];

      let currentTextIndex = 0;
      const loadingText = document.querySelector('.loading-text');
      const loadingSubtext = document.querySelector('.loading-subtext');
      const loadingOverlay = document.querySelector('.loading-overlay');
      const exploreButton = document.querySelector('.btn-discover');

      function updateLoadingText() {
        if (loadingText && loadingSubtext) {
          loadingText.textContent = loadingTexts[currentTextIndex];
          loadingSubtext.textContent = loadingSubtexts[currentTextIndex];
          currentTextIndex = (currentTextIndex + 1) % loadingTexts.length;
        }
      }

      if (exploreButton) {
        exploreButton.addEventListener('click', function(e) {
          e.preventDefault();
          const targetUrl = this.href;

          // Mostra a tela de carregamento
          if (loadingOverlay) {
            loadingOverlay.style.display = 'flex';
          }

          // Inicia a troca de textos
          updateLoadingText();
          const textInterval = setInterval(updateLoadingText, 2000);

          // Redireciona ap√≥s um tempo
          setTimeout(() => {
            clearInterval(textInterval);
            window.location.href = targetUrl;
          }, 8000); // Reduzido para 8 segundos
        });
      }
    });
  </script>

</body>

</html>